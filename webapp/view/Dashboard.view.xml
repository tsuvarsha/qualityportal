<mvc:View controllerName="project1.controller.Dashboard"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core">
    <Page id="dashboardPage" title="Quality Portal Dashboard" backgroundDesign="List">
        <content>
            <VBox class="sapUiSmallMargin">
                <Title text="Overview" level="H2" class="sapUiSmallMarginBottom"/>
                <HBox wrap="Wrap" class="sapUiSmallMarginBottom">
                    <GenericTile header="Inspection Lots" subheader="All Items" press="onPressInspectionLot" class="sapUiTinyMarginEnd sapUiTinyMarginBottom">
                        <TileContent>
                            <ImageContent src="sap-icon://lab" />
                        </TileContent>
                    </GenericTile>
                    <GenericTile header="Pending" subheader="Action Needed" class="sapUiTinyMarginEnd sapUiTinyMarginBottom">
                        <TileContent>
                             <ImageContent src="sap-icon://request" />
                        </TileContent>
                    </GenericTile>
                </HBox>
                
                <Title text="Inspection Lots" level="H2" class="sapUiSmallMarginTop sapUiSmallMarginBottom"/>
                
                <Table id="inspectionTable" items="{inspection>/ZINSPECT_TATA}" growing="true" growingThreshold="20" width="auto" class="sapUiSmallMarginBottom">
                     <columns>
                        <Column><Text text="Lot Number" /></Column>
                        <Column minScreenWidth="Tablet" demandPopin="true"><Text text="Plant" /></Column>
                        <Column minScreenWidth="Tablet" demandPopin="true"><Text text="Material" /></Column>
                        <Column><Text text="Actual Qty" /></Column>
                        <Column><Text text="Status" /></Column>
                        <Column><Text text="Decision" /></Column>
                    </columns>
                    <items>
                        <ColumnListItem type="Navigation" press="onPressLot">
                            <cells>
                                <Text text="{inspection>InspectionLotNumber}" />
                                <Text text="{inspection>Plant}" />
                                <Text text="{inspection>SelectedMaterial}" />
                                <Text text="{inspection>ActualQuantity} {inspection>UnitOfMeasure}" />
                                <ObjectStatus text="{inspection>UsageDecisionStatus}" state="{= ${inspection>UsageDecisionStatus} === 'Decision Made' ? 'Success' : 'Warning' }" />
                                <ObjectStatus text="{inspection>UsageDecisionCode}" state="{= ${inspection>UsageDecisionCode} === 'A' ? 'Success' : ${inspection>UsageDecisionCode} === 'R' ? 'Error' : 'None' }" />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </VBox>
        </content>
    </Page>
</mvc:View>
